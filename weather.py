import requests

def fetch_weather():
    url = "http://api.weatherapi.com/v1/current.json?key=6a023114b9c247328ae175800221003&q=Ottawa&aqi=no"
    headers = {}
    resp = requests.get(url, headers=headers)
        # a = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"name":"The Works","street":"Bank Street","suburb":"The Glebe","district":"Capital","city":"(Old) Ottawa","county":"Ottawa","state_district":"Eastern Ontario","state":"Ontario","postcode":"K1S 3T4","country":"Canada","country_code":"ca","lon":-75.6913625,"lat":45.4078283,"formatted":"The Works, Bank Street, (Old) Ottawa, ON K1S 3T4, Canada","address_line1":"The Works","address_line2":"Bank Street, (Old) Ottawa, ON K1S 3T4, Canada","categories":["catering","catering.restaurant","catering.restaurant.burger","wheelchair","wheelchair.yes"],"details":["details","details.catering","details.facilities"],"datasource":{"sourcename":"openstreetmap","attribution":"© OpenStreetMap contributors","license":"Open Database Licence","url":"https://www.openstreetmap.org/copyright"},"distance":2146,"place_id":"5191cb7f483fec52c059435abeb733b44640f00103f90189ada9b50000000092030954686520576f726b73"},"geometry":{"type":"Point","coordinates":[-75.69136249999998,45.40782830042419]}},{"type":"Feature","properties":{"name":"Cafe nostalgica","street":"Laurier Avenue East","neighbourhood":"Byward Market","suburb":"Sandy Hill","district":"Rideau-Vanier","city":"(Old) Ottawa","county":"Ottawa","state_district":"Eastern Ontario","state":"Ontario","postcode":"K1N 1K5","country":"Canada","country_code":"ca","lon":-75.683922,"lat":45.4240305,"formatted":"Cafe nostalgica, Laurier Avenue East, (Old) Ottawa, ON K1N 1K5, Canada","address_line1":"Cafe nostalgica","address_line2":"Laurier Avenue East, (Old) Ottawa, ON K1N 1K5, Canada","categories":["catering","catering.restaurant","catering.restaurant.burger"],"details":["details.catering"],"datasource":{"sourcename":"openstreetmap","attribution":"© OpenStreetMap contributors","license":"Open Database Licence","url":"https://www.openstreetmap.org/copyright"},"distance":2848,"place_id":"51f4c0c760c5eb52c059f8e8a5a146b64640f00103f901f72e3b360100000092030f43616665206e6f7374616c67696361"},"geometry":{"type":"Point","coordinates":[-75.683922,45.42403050042225]}},{"type":"Feature","properties":{"name":"The King Eddy","housenumber":"45","street":"Clarence Street","neighbourhood":"Byward Market","suburb":"Lowertown","district":"Rideau-Vanier","city":"(Old) Ottawa","county":"Ottawa","state_district":"Eastern Ontario","state":"Ontario","postcode":"K1N 5P4","country":"Canada","country_code":"ca","lon":-75.6940676,"lat":45.4288022,"formatted":"The King Eddy, 45 Clarence Street, (Old) Ottawa, ON K1N 5P4, Canada","address_line1":"The King Eddy","address_line2":"45 Clarence Street, (Old) Ottawa, ON K1N 5P4, Canada","categories":["catering","catering.restaurant","catering.restaurant.burger"],"details":["details.catering","details.facilities"],"datasource":{"sourcename":"openstreetmap","attribution":"© OpenStreetMap contributors","license":"Open Database Licence","url":"https://www.openstreetmap.org/copyright"},"distance":3734,"place_id":"51a4cd829a6bec52c059c8a191fde2b64640f00103f901db780e230000000092030d546865204b696e672045646479"},"geometry":{"type":"Point","coordinates":[-75.69406759999998,45.42880220042167]}},{"type":"Feature","properties":{"name":"Bite Burger House","housenumber":"108","street":"Murray Street","neighbourhood":"Byward Market","suburb":"Lowertown","district":"Rideau-Vanier","city":"(Old) Ottawa","county":"Ottawa","state_district":"Eastern Ontario","state":"Ontario","postcode":"K1N 5M5","country":"Canada","country_code":"ca","lon":-75.6929002,"lat":45.4298428,"formatted":"Bite Burger House, 108 Murray Street, (Old) Ottawa, ON K1N 5M5, Canada","address_line1":"Bite Burger House","address_line2":"108 Murray Street, (Old) Ottawa, ON K1N 5M5, Canada","categories":["catering","catering.restaurant","catering.restaurant.burger"],"details":["details","details.catering","details.contact","details.facilities"],"datasource":{"sourcename":"openstreetmap","attribution":"© OpenStreetMap contributors","license":"Open Database Licence","url":"https://www.openstreetmap.org/copyright"},"distance":3773,"place_id":"511499147a58ec52c059a41dc11605b74640f00103f9011594fe0901000000920311426974652042757267657220486f757365"},"geometry":{"type":"Point","coordinates":[-75.6929002,45.42984280042154]}},{"type":"Feature","properties":{"name":"Wellington Eatery","housenumber":"1008","street":"Wellington Street West","commercial":"Hintonburg Shopping Area","suburb":"Hintonburg","district":"Kitchissippi","city":"(Old) Ottawa","county":"Ottawa","state_district":"Eastern Ontario","state":"Ontario","postcode":"K1Y 2X9","country":"Canada","country_code":"ca","lon":-75.723403,"lat":45.4048816,"formatted":"Wellington Eatery, 1008 Wellington Street West, (Old) Ottawa, ON K1Y 2X9, Canada","address_line1":"Wellington Eatery","address_line2":"1008 Wellington Street West, (Old) Ottawa, ON K1Y 2X9, Canada","categories":["catering","catering.restaurant","catering.restaurant.burger","internet_access"],"details":["details.catering","details.contact","details.facilities"],"datasource":{"sourcename":"openstreetmap","attribution":"© OpenStreetMap contributors","license":"Open Database Licence","url":"https://www.openstreetmap.org/copyright"},"distance":4567,"place_id":"5102b5183c4cee52c059ad490829d3b34640f00103f901672ef87f0000000092031157656c6c696e67746f6e20456174657279"},"geometry":{"type":"Point","coordinates":[-75.72340299999999,45.40488160042455]}}]}
    resp = resp.json()
    # print(resp)
    # weather = []
    weather = [int(resp['current']['temp_c']), int(resp['current']['feelslike_c']), resp['current']['condition']['text'], resp['current']['condition']['icon']]
    # print('Temp:',int(resp['current']['temp_c']),'degree celsius')
    # print('Feels like:',int(resp['current']['feelslike_c']),' degree celsius')
    # print(resp['current']['condition']['text'])
    return weather

